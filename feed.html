<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1,minimal-ui" name="viewport">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic|Material+Icons">
    <link rel="stylesheet" href="https://unpkg.com/vue-material@beta/dist/vue-material.min.css">
    <link rel="stylesheet" href="https://unpkg.com/vue-material@beta/dist/theme/default.css">
    <link rel="stylesheet" href="feed.css">
    <title>AAALF</title>
    <script>
        if(!sessionStorage.getItem('logged')){
            window.location = 'index.html';
        }
    </script>
</head>

<body>
<div id="app">
    <!-- Your code here -->

    <template>
        <header>
            <nav class="menu">
                <div id="nav-bar">
                    <div id="logo"><img src="atletica_logo.png"></div>
                    <p id="title">Associação Atlética das Licenciaturas</p>
                    <div id="vue-menu">
                        <md-menu>
                            <md-menu md-size="medium" md-align-trigger>
                                <md-button md-menu-trigger>Home</md-button>

                                <md-menu-content>
                                    <md-menu-item>Feed</md-menu-item>
                                    <md-menu-item>Noticiário</md-menu-item>
                                </md-menu-content>
                            </md-menu>


                                <md-menu md-size="medium" md-align-trigger>
                                    <md-button md-menu-trigger>Parcerias</md-button>

                                    <md-menu-content>
                                        <md-menu-item>UFSC</md-menu-item>
                                        <md-menu-item>DCE</md-menu-item>
                                    </md-menu-content>
                                </md-menu>

                                <md-menu md-size="medium" md-align-trigger>
                                    <md-button md-menu-trigger>Eventos</md-button>

                                    <md-menu-content>
                                        <md-menu-item>Próximos</md-menu-item>
                                        <md-menu-item>Histórico</md-menu-item>
                                    </md-menu-content>
                                </md-menu>
                                <md-menu md-size="medium" md-align-trigger>
                                    <md-button md-menu-trigger>Calendário</md-button>

                                    <md-menu-content>
                                        <md-menu-item>Esportivo</md-menu-item>
                                        <md-menu-item>Recreativo</md-menu-item>
                                    </md-menu-content>
                                </md-menu>

                                <md-menu md-size="medium" md-align-trigger>
                                        <md-button md-menu-trigger>Cadastro</md-button>

                                    <md-menu-content>
                                        <md-menu-item>Atleta</md-menu-item>
                                        <md-menu-item>Torcedor</md-menu-item>
                                    </md-menu-content>
                                </md-menu>



                        </md-menu>
                </div>
                </div>
            </nav>

        </header>
        <section>
            <p style="margin-left: 10%">Home > <span style="color:red">Feed</span></p>
            <h1>Feed</h1>

            <div class="md-card">
            <md-card md-with-hover>
                <md-ripple>
                    <md-card-header>
                        <div class="md-title">Expeculações</div>
                        <div class="md-subhead">Especulações acerca do próximo ano</div>
                    </md-card-header>

                    <md-card-content>
                        Estamos otimistas com o que nos aguarda
                        para o próximo ano, já que os resultados
                        desta temporada foram satisfatórios, apesar
                        de não pudermos contar com nosso principal
                        jogador, e capitão da equipe Giulio Giovanella.
                        O mesmo acaba de se recuperar das lesões
                        que o afastaram e já voltou aos treinos com a
                        equipe.
                    </md-card-content>

                    <md-card-actions>
                        <md-button>Omitir</md-button>
                        <md-button>Saiba mais</md-button>
                    </md-card-actions>
                </md-ripple>
            </md-card>
            </div>


            <div id="cadastro">
                <header><h2>Faça parte da atlética!</h2>
                        <h3>Junte-se a equipe com mais títulos
                            acumulados do esporte universitário</h3>
                </header>
                <md-field>
                    <label><span>*</span>Nome</label>
                    <md-input v-model="nomeV" id="nome"></md-input>
                </md-field>

                <md-field>
                    <label><span>*</span>Idade</label>
                    <md-input v-model="idadeV" type="number" id="idade"></md-input>
                </md-field>
                <md-field>
                    <label><span>*</span>Sexo</label>
                    <md-input v-model="sexoV" id="sexo"></md-input>
                </md-field>
                <md-field>
                    <label><span>*</span>Modalidade</label>
                    <md-input v-model="modalidadeV" id="modalidade"></md-input>
                </md-field>
                <md-field>
                    <label>Posição</label>
                    <md-input v-model="posicaoV" id="posicao"></md-input>
                </md-field>

                <div id="salvar">
                    <md-button @click="savePerson(nomeV, idadeV, sexoV, modalidadeV, posicaoV, pessoas)">Salvar</md-button>
                </div>
                <div id="limpar">
                    <md-button>Limpar</md-button>
                </div>
            </div>


            <div id="vue-table">
                <header>
                    <h2>Atletas cadastrados</h2>
                </header>
                <md-table v-model="pessoas">


                    <md-table-row slot-scope="{ item }">
                        <md-table-cell>{{item.nome}}</md-table-cell>
                        <md-table-cell md-numeric>{{item.idade}}</md-table-cell>
                        <md-table-cell>{{item.sexo}}</md-table-cell>
                        <md-table-cell>{{item.modalidade}}</md-table-cell>
                        <md-table-cell>{{item.posicao}}</md-table-cell>
                    </md-table-row>

                </md-table>
            </div>


        </section>
        <footer>
            <p><span id="footer-tag">@ 2019 Copyright:</span><span id="footer-name"> Giulio Giovanella</span></p>
        </footer>
    </template>



</div>

<script src="https://unpkg.com/vue"></script>
<script src="https://unpkg.com/vue-material@beta"></script>

<script>
    console.log('Get local storage: '+localStorage.getItem('pessoas'));
    Vue.use(VueMaterial.default);

    new Vue({
        el: '#app',
        data: () => ({
            pessoas: localStorage.getItem('pessoas'),
            nomeV: "",
            idadeV: "",
            sexoV: "",
            modalidadeV: "",
            posicaoV: ""

        }),
        methods:{
            loadData(){
                return {"nome":"Gatuno", "idade":"19","sexo":"M","modalidade":"fut","posicao":"meio"};
            },
            savePerson(nomep, idadep, sexop, modalidadep, posicaop, pessoasp){
                console.log('NOMEP:'+nomep);
                var pessoa= {
                    nome:nomep,
                    idade:idadep,
                    sexo:sexop,
                    modalidade:modalidadep,
                    posicao:posicaop
                };
                cleanForm();
                console.log('Nova pessoa: '+pessoa.nome);
                console.log('Pessoas Lista before post: '+pessoasp);
                pessoasp.put(pessoa);
                console.log('Pessoas Lista after post: '+pessoasp);
                localStorage.setItem('pessoas', pessoasp);

            }
        }
    })
    var nome = document.querySelector('#nome');
    var idade = document.querySelector('#idade');
    var sexo = document.querySelector('#sexo');
    var modalidade = document.querySelector('#modalidade');
    var posicao = document.querySelector('#posicao');

    var btnLimpar = document.querySelector('#limpar');
    var btnSalvar = document.querySelector('#salvar');

    var tabela = document.querySelector('#vue-table md-table');
    btnLimpar.onclick = cleanForm;
    function cleanForm() {
        var nome = document.querySelector('#nome');
        var idade = document.querySelector('#idade');
        var sexo = document.querySelector('#sexo');
        var modalidade = document.querySelector('#modalidade');
        var posicao = document.querySelector('#posicao');
        nome.value = "";
        idade.value = "";
        sexo.value = "";
        modalidade.value = "";
        posicao.value = "";
    }


   /* function
  var pessoas = [];




    btnSalvar.onclick = function () {
        var pessoa= {
            nome:nome.value,
            idade:idade.value,
            sexo:sexo.value,
            modalidade:modalidade.value,
            posicao:posicao.value
        }
        pessoas.push(pessoa);
        localStorage.setItem('pessoas', pessoas);
    }
    function renderTable(){

    }
*/
</script>
</body>
</html>